(this["webpackJsonpcapstone-chestidea"]=this["webpackJsonpcapstone-chestidea"]||[]).push([[0],{25:function(e,t,a){e.exports=a(38)},38:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(21),s=a.n(r),l=a(8);var o=function(e){var t=e.score,a=e.increase;return c.a.createElement("div",{className:"score"},c.a.createElement("p",null,"Current Gold: ",t+a," "))},i=c.a.createContext(null),m=function(){return Object(n.useContext)(i)};function u(e){var t=e.score,a=Object(n.useState)(""),r=Object(l.a)(a,2),s=r[0],o=r[1],i=m();return c.a.createElement("div",null,c.a.createElement("p",null,"Boast your Biggest Plunder or try again."),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),window.location.reload();var a={name:s,score:t};i.scores().push(a,(function(){console.log("Score saved!")})),console.log(a)}},c.a.createElement("input",{className:"input",type:"text",name:"firstname",id:"fname",placeholder:"Enter name",value:s,onChange:function(e){var t=e.target.value;o(t),console.log(s)}}),c.a.createElement("button",{type:"submit",className:"btn",disabled:!s},"Save")))}var h=function(e){return c.a.createElement("div",null,c.a.createElement("div",{className:"heading"},c.a.createElement("p",null,"Treasure Chest Game"),c.a.createElement("div",null,c.a.createElement("ul",{className:"navul"},c.a.createElement("li",{className:"navli"},c.a.createElement("a",{href:"/"},"Home")),c.a.createElement("li",{className:"navli"},c.a.createElement("a",{href:"/highscores"},"Tavern"))))))};var E=function(){var e=Object(n.useState)(0),t=Object(l.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(0),i=Object(l.a)(s,2),m=i[0],E=i[1],d=Object(n.useState)(!1),v=Object(l.a)(d,2),p=v[0],f=v[1],g=Object(n.useState)(!1),b=Object(l.a)(g,2),O=b[0],N=b[1],j=Object(n.useState)(0),S=Object(l.a)(j,2),C=S[0],y=S[1],k=Object(n.useState)(0),I=Object(l.a)(k,2),w=I[0],B=I[1],F=function(){var e=Math.floor(10*Math.random())+1;E(e)},x=function(){m>=3?(f(!0),N(!1),L(),console.log("WIN - Score: "+a+" - Highscore: "+C+" - Roll: "+m)):m<3&&(f(!1),N(!0),a>C&&y(a),console.log("LOSE - Score: "+a+" - Highscore: "+C+" - Roll: "+m),r(0),E(0),B(0),F())},L=function(){0===m?B(0):m>0&&m<=3?B(5):m>3&&m<=6?B(10):m>6&&m<=9?B(25):10===m&&B(100),r(a+w)};return Object(n.useEffect)((function(){F()}),[a]),c.a.createElement("div",null,c.a.createElement("div",{className:"headingContainer"},c.a.createElement(h,null)),c.a.createElement("p",{className:"note"},"Try your luck, pick a chest:"),c.a.createElement("div",{className:"scoreContainer"},c.a.createElement("div",{className:"chestFlex"},c.a.createElement("img",{onClick:x,className:"chestImg",src:"../chest_closed.png",alt:"ChestOne"}),c.a.createElement("img",{onClick:x,className:"chestImg",src:"chest_closed.png",alt:"ChestTwo"}),c.a.createElement("img",{onClick:x,className:"chestImg",src:"chest_closed.png",alt:"ChestThree"})),c.a.createElement("div",{className:"highscore"},c.a.createElement("p",null,"Biggest Plunder: ",C," gold")),c.a.createElement(o,{score:a,increase:w})),c.a.createElement("div",{className:"resultsWin"},c.a.createElement(c.a.Fragment,null,p&&c.a.createElement("p",null,"Congratulations! You found ",w," gold in this chest!"))),c.a.createElement("div",{className:"resultsLose"},c.a.createElement(c.a.Fragment,null,O&&c.a.createElement(u,{score:C}))),c.a.createElement("footer",{className:"footer"},"\ud83d\udcb0 Chainsaw's Booty \ud83d\udcb0"))};function d(){var e=m(),t=Object(n.useState)([]),a=Object(l.a)(t,2),r=a[0],s=a[1];Object(n.useEffect)((function(){e.scores().once("value",(function(e){var t=e.val(),a=o(t);s(a)}))}),[e]);var o=function(e){var t=[];for(var a in e){var n=e[a];n.key=a,t.push(n)}return t.sort((function(e,t){return t.score-e.score})).slice(0,10)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(c.a.Fragment,null,c.a.createElement(h,null),c.a.createElement("p",{className:"note"},"Previous Bests:"),c.a.createElement("div",{id:"highScoresList",className:"tavernList"},r.map((function(e){return c.a.createElement("li",null,e.name," - ",e.score)}))),c.a.createElement("footer",{className:"footer"},"\ud83d\udcb0 Chainsaw's Booty \ud83d\udcb0")))}var v=a(22),p=a(3);var f=function(e){return c.a.createElement(v.a,null,c.a.createElement(p.c,null,c.a.createElement(p.a,{exact:!0,path:"/",component:E}),c.a.createElement(p.a,{path:"/highscores",component:d})))},g=a(24),b=a(17),O=(a(34),{apiKey:"AIzaSyArqcbmD7350YIWVikLgXVqOFZFRFSIQ04",authDomain:"capstonechest.firebaseapp.com",databaseURL:"https://capstonechest-default-rtdb.firebaseio.com",projectId:"capstonechest",storageBucket:"capstonechest.appspot.com",messagingSenderId:"94282817351"}),N=function e(){var t=this;Object(g.a)(this,e),this.scores=function(){return t.db.ref("scores")},b.a.initializeApp(O),this.db=b.a.database()};s.a.render(c.a.createElement(i.Provider,{value:new N},c.a.createElement(f,null)),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.85b3e1a4.chunk.js.map